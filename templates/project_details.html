{% extends "master.html" %} {% block content %}
<div class="row">
  <div class="col-md-12">
    <h2>{{ project.name }}</h2>
    <p>{{ project.description }}</p>
    <a
      href="{{ url_for('add_task', project_id=project.id) }}"
      class="btn btn-primary"
      >Add New Task</a
    >
  </div>
</div>
<hr />
<div class="row">
  <div class="col-md-12">
    <h4>Tasks</h4>
    {% if project.tasks %}
    <ul class="list-group">
      {% for task in project.tasks %}
      <li
        class="list-group-item d-flex justify-content-between align-items-center"
      >
        <span>
          <strong>{{ task.title }}</strong> - Status: {{ task.status }} -
          Priority: {{ task.priority }} {% if task.due_date %}<br /><small
            >Due: {{ task.due_date.strftime('%Y-%m-%d') }}</small
          >{% endif %}
        </span>
        <div>
          <a
            href="{{ url_for('edit_task', task_id=task.id) }}"
            class="btn btn-sm btn-primary"
            >Edit</a
          >
          <form
            action="{{ url_for('delete_task', task_id=task.id) }}"
            method="POST"
            class="d-inline"
          >
            <button
              type="submit"
              class="btn btn-sm btn-danger"
              onclick="return confirm('Are you sure you want to delete this task?');"
            >
              Delete
            </button>
          </form>
        </div>
      </li>
      {% endfor %}
    </ul>
    {% else %}
    <p>No tasks found for this project. Start by adding one!</p>
    {% endif %}
  </div>
</div>
{% endblock %}
